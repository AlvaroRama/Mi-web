import{r as e,t}from"./rolldown-runtime-DHhoF4nQ.js";import{C as n,S as r,T as i,_ as a,b as o,c as s,f as c,g as l,h as u,j as d,l as f,m as p,n as m,o as h,p as g,t as _,v,w as y,x as b,y as x}from"./chunk-UIGDSWPH-CVnvffNS.js";import{t as S}from"./client-PBsyxRp2.js";import{t as C}from"./react-dom-DK4bYPqf.js";var w=t((e=>{Object.defineProperty(e,`__esModule`,{value:!0})})),T=e(S()),E=e(d(),1);w(),[...h],new TextEncoder,E.use;function D(e){if(!e)return null;let t=Object.entries(e),n={};for(let[e,r]of t)if(r&&r.__type===`RouteErrorResponse`)n[e]=new _(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type===`Error`){if(r.__subType){let t=window[r.__subType];if(typeof t==`function`)try{let i=new t(r.message);i.stack=r.stack,n[e]=i}catch{}}if(n[e]==null){let t=Error(r.message);t.stack=r.stack,n[e]=t}}else n[e]=r;return n}function O({state:e,routes:t,getRouteInfo:r,location:i,basename:a,isSpaMode:o}){let s={...e,loaderData:{...e.loaderData}},c=n(t,i,a);if(c)for(let e of c){let t=e.route.id,n=r(t);y(t,n.clientLoader,n.hasLoader,o)&&(n.hasHydrateFallback||!n.hasLoader)?delete s.loaderData[t]:n.hasLoader||(s.loaderData[t]=null)}return s}var k=e(C(),1);C();function A(e){return E.createElement(f,{flushSync:k.flushSync,...e})}var j=null,M=null;function N(){if(!j&&window.__reactRouterContext&&window.__reactRouterManifest&&window.__reactRouterRouteModules){if(window.__reactRouterManifest.sri===!0){let e=document.querySelector(`script[rr-importmap]`);if(e?.textContent)try{window.__reactRouterManifest.sri=JSON.parse(e.textContent).integrity}catch(e){console.error(`Failed to parse import map`,e)}}j={context:window.__reactRouterContext,manifest:window.__reactRouterManifest,routeModules:window.__reactRouterRouteModules,stateDecodingPromise:void 0,router:void 0,routerInitialized:!1}}}function P({getContext:e,unstable_instrumentations:t}){if(N(),!j)throw Error("You must be using the SSR features of React Router in order to skip passing a `router` prop to `<RouterProvider>`");let n=j;if(!j.stateDecodingPromise){let e=j.context.stream;b(e,`No stream found for single fetch decoding`),j.context.stream=void 0,j.stateDecodingPromise=a(e,window).then(e=>{j.context.state=e.value,n.stateDecodingPromise.value=!0}).catch(e=>{n.stateDecodingPromise.error=e})}if(j.stateDecodingPromise.error)throw j.stateDecodingPromise.error;if(!j.stateDecodingPromise.value)throw j.stateDecodingPromise;let i=g(j.manifest.routes,j.routeModules,j.context.state,j.context.ssr,j.context.isSpaMode),s;if(j.context.isSpaMode){let{loaderData:e}=j.context.state;j.manifest.routes.root?.hasLoader&&e&&`root`in e&&(s={loaderData:{root:e.root}})}else s=O({state:j.context.state,routes:i,getRouteInfo:e=>({clientLoader:j.routeModules[e]?.clientLoader,hasLoader:j.manifest.routes[e]?.hasLoader===!0,hasHydrateFallback:j.routeModules[e]?.HydrateFallback!=null}),location:window.location,basename:window.__reactRouterContext?.basename,isSpaMode:j.context.isSpaMode}),s&&s.errors&&(s.errors=D(s.errors));let u=l({routes:i,history:c(),basename:j.context.basename,getContext:e,hydrationData:s,hydrationRouteProperties:o,unstable_instrumentations:t,mapRouteProperties:r,future:{middleware:j.context.future.v8_middleware},dataStrategy:x(()=>u,j.manifest,j.routeModules,j.context.ssr,j.context.basename),patchRoutesOnNavigation:v(j.manifest,j.routeModules,j.context.ssr,j.context.routeDiscovery,j.context.isSpaMode,j.context.basename)});return j.router=u,u.state.initialized&&(j.routerInitialized=!0,u.initialize()),u.createRoutesForHMR=p,window.__reactRouterDataRouter=u,u}function F(e){M||=P({getContext:e.getContext,unstable_instrumentations:e.unstable_instrumentations});let[t,n]=E.useState(void 0);E.useEffect(()=>{},[]),E.useEffect(()=>{},[t]);let[r,a]=E.useState(M.state.location);return E.useLayoutEffect(()=>{j&&j.router&&!j.routerInitialized&&(j.routerInitialized=!0,j.router.initialize())},[]),E.useLayoutEffect(()=>{if(j&&j.router)return j.router.subscribe(e=>{e.location!==r&&a(e.location)})},[r]),b(j,`ssrInfo unavailable for HydratedRouter`),i(M,j.manifest,j.routeModules,j.context.ssr,j.context.routeDiscovery,j.context.isSpaMode),E.createElement(E.Fragment,null,E.createElement(m.Provider,{value:{manifest:j.manifest,routeModules:j.routeModules,future:j.context.future,criticalCss:t,ssr:j.context.ssr,isSpaMode:j.context.isSpaMode,routeDiscovery:j.context.routeDiscovery}},E.createElement(s,{location:r},E.createElement(A,{router:M,unstable_onError:e.unstable_onError}))),E.createElement(E.Fragment,null))}u(),(0,E.startTransition)(()=>{(0,T.hydrateRoot)(document,(0,E.createElement)(F))});